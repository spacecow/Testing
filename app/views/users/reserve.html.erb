<div class="form">
<fieldset class="form">
<legend class="form"><%= t( :reserve ) %></legend>

<div class="intro">
<% unless @reservable_klasses.empty? %>
<div class="reservable">
<h2><%= t('header.classes_to_reserve') %></h2>
<% semantic_form_for @user do |f| %>
	<% f.inputs do %>
		<%= f.input :klasses,
			:as=>:check_boxes,
			:label=>false,
			:collection => @reservable_klasses,
			:required=>false %>
		<%= @reserved_klasses.map{|klass| hidden_field_tag "user[klass_ids][]", klass.id} %>
		<%= @class_history.map{|klass| hidden_field_tag "user[klass_ids][]", klass.id} %>
	<% end %>
	<% f.buttons do %>
		<%= f.commit_button t(:reserve) %>
	<% end %>
<% end %>
</div>
<% end %>
</div>

<% unless @reserved_klasses.empty? %>
<div class="reserved">
<h2><%= t('header.already_reserved_classes') %></h2>
<ul>
<% @reserved_klasses.each do |klass| %>
	<li><%= klass.name %></li>
<% end %>
</ul>
</div>
<% end %>

<% unless @class_history.empty? %>
<div class="history">
<h2><%= t('header.class_history') %></h2>
<ul>
<% @class_history.each do |klass| %>
	<li><%= klass.name %></li>
<% end %>
</ul>
</div>
<% end %>

<div id="links">
</div>

</fieldset>
</div>