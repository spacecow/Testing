<div id="list">
<h1><%= t( 'courses.listing' ) %></h1>

<table cellpadding="2" cellspacing="1">

<% @keys.each do |key| %>
	<% @courses_groups[key].each do |course| %>
		<tr class="<%= cycle( 'list-line-odd', 'list-line-even' ) %>" >
			<td>	
	    	<%= h course.name %>
	    </td>
		  <td class="list-actions">
		  	<div class="<%= course.category %>_<%= course.level %>">
		    <%= link_to t( 'show' ), course %>
		    <%= link_to t( 'edit' ), edit_course_path( course ) %>
		    <%= link_to t( 'delete' ),
		       course,
		      :confirm => "Are you sure?\n"+
        	 	association_delete_error_messages(
						[ course.template_classes, course.klasses ],
						[ t( 'courses.error.try_to_delete_course_with_template_classes' ),
 							t( 'courses.error.try_to_delete_course_with_klasses' )]).join("\n"),
		      :method => :delete %>
		    </div>
		  </td>
	  </tr>
	<% end %>
<% end %>
</table>
</div>
<br />

<%= link_to t( 'courses.new' ), new_course_path, :class=>"link" %><br />