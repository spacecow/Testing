Using the default profile...


  Background: 
    Given a setting exists with name: "main"
    And a user: "johan" exist with username: "johan", role: "god, teacher", language: "en", cost: "0"
    And a user: "aya" exist with username: "aya", role: "admin, teacher"
    And a user: "hitomi" exist with username: "hitomi", role: "admin, teacher", cost: ""
    And a user is logged in as "johan"

  Scenario: Tables for the staff should not be visible by default
    When I browse to the salary users page for "January"
    Then the "johan" id should not exist for "table"
    And the "aya" id should not exist for "table"
    And the "hitomi" id should not exist for "table"



  Background: 
    Given a setting exists with name: "main"
    And a user: "johan" exist with username: "johan", role: "god, teacher", language: "en", cost: "0"
    And a user: "zero_traveling_expenses" exists with username: "zero_traveling_expenses", role: "registrant, teacher", traveling_expenses: "0", cost: "1400"
    And a user: "nil_traveling_expenses" exists with username: "nil_traveling_expenses", role: "registrant, teacher", cost: "1400"
    And a user: "empty_traveling_expenses" exists with username: "empty_traveling_expenses", role: "registrant, teacher", cost: "1400"
    And a course: "ruby" exists with name: "Ruby I"
    And a klass: "ruby" exists with course: course "ruby", date: "2010-01-01", start_time: "10:00", end_time: "11:00"
    And a courses_teacher exists with course: course "ruby", teacher: user "zero_traveling_expenses"
    And a courses_teacher exists with course: course "ruby", teacher: user "nil_traveling_expenses"
    And a courses_teacher exists with course: course "ruby", teacher: user "empty_traveling_expenses"
    And a user is logged in as "johan"

  Scenario Outline: If a teacher has zero/nil/empty traveling expenses, the column should not be shown
    Given a teaching exists with klass: klass "ruby", teacher: user "<user>", status_mask: 9
    When I browse to the salary users page for "January"
    Then the "<user>" id should not exist for "td"

    Examples: 
      | user                     |
      | zero_traveling_expenses  |
      | nil_traveling_expenses   |
      | empty_traveling_expenses |

  @pending
  Scenario: nil & empty

  @pending
  Scenario: only be shown once each day

  @pending
  Scenario: included in the total

7 scenarios (7 passed)
84 steps (84 passed)
0m12.688s
